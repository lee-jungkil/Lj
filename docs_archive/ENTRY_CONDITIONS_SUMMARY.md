# 📋 Upbit AutoProfit Bot v5.3 - 진입 설정 완벽 요약

## 🎯 핵심 진입 조건 (한눈에 보기)

### 1️⃣ 초단타 전략 (Ultra Scalping)
```
목표: 1~5분 내 빠른 수익
손절: 1.0% | 익절: 1.5%
최대 보유: 5분 (300초)
```

| 조건 | 값 | 설명 |
|-----|-----|-----|
| **가격 변동** | ±1.5% 이상 | 급등/급락 감지 |
| **거래량** | 2배 이상 | 평균 대비 폭증 |
| **RSI (반등)** | < 35 | 과매도 (급락 후) |
| **RSI (추격)** | < 80 | 과매수 직전 (급등 시) |
| **쿨다운** | 3분 | 동일 코인 재진입 대기 |

**추가 진입 (NEW!):**
```
거래량 2.5배 + 가격 1% 이상 + RSI 40~75
→ 거래량 기반 진입!
```

---

### 2️⃣ 공격형 스캘핑 (Aggressive Scalping)
```
목표: 단기 수익 극대화
손절: 3.0% | 익절: 2.0%
```

| 조건 | 값 | 설명 |
|-----|-----|-----|
| **RSI** | 40~60 | 중립~약세 구간 |
| **거래량** | 1.2배 이상 | 평균 대비 |
| **가격 변동** | 0.5% 이상 | 최근 변동성 |

---

### 3️⃣ 보수형 스캘핑 (Conservative Scalping)
```
목표: 안정적 수익
손절: 2.0% | 익절: 1.5%
```

| 조건 | 값 | 설명 |
|-----|-----|-----|
| **RSI** | 35~65 | 넓은 범위 |
| **볼린저 밴드** | 90% 이하 | 하단 근처 |

---

### 4️⃣ 평균 회귀 (Mean Reversion)
```
목표: 과매도/과매수 반전
손절: 3.0% | 익절: 2.5%
```

| 조건 | 값 | 설명 |
|-----|-----|-----|
| **이동평균선** | 20일 MA | 기준선 |
| **이탈도** | 3% 이상 | MA 대비 |

---

### 5️⃣ 그리드 트레이딩 (Grid Trading)
```
목표: 변동성 활용
손절: 5.0%
```

| 조건 | 값 | 설명 |
|-----|-----|-----|
| **그리드 개수** | 10개 | 분할 매수/매도 |
| **간격** | 0.5% | 가격 간격 |
| **최대 변동성** | 3% 이하 | 횡보장 적합 |

---

## 🔄 동적 코인 선정 시스템

### 자본금 모드별 설정
| 모드 | 자본금 | 코인 개수 | 최대 포지션 | 포지션 비율 |
|-----|--------|----------|-----------|----------|
| **10만원** | 100,000원 | 20개 | 5개 | 20% |
| **20만원** | 200,000원 | 30개 | 7개 | 15% |
| **30만원** | 300,000원 | 40개 | 10개 | 10% |

### 선정 방법
```
📊 volume   - 거래량 순위 (빠름, 안정적)
📈 rsi      - RSI 기준 (초단타 적합)
🎯 multi    - 복합 분석 (거래량+RSI+변동성)
```

### 갱신 주기
```
⏱️ 5분마다 자동 갱신
- 거래량 Top 50 추출
- RSI 과매도/과매수 분석
- 변동성 계산
- 복합 점수로 최적 코인 선정
```

---

## 📊 진입 시나리오 예시

### 시나리오 A: 초단타 급락 반등
```
1. KRW-DOGE 가격 -2.0% 급락
2. 거래량 2.5배 폭증
3. RSI 32 (과매도)
→ ✅ 반등 매수 진입!

예상 흐름:
21:49:30 [INFO] 🔥 급락 감지: KRW-DOGE -2.0%, 거래량 2.5x
21:49:30 [TRADE] ⚡ 초단타 매수: 10,000원
21:51:15 [INFO] 💰 수익 +1.2% (180초 보유)
21:51:15 [TRADE] ⚡ 초단타 매도: +120원 수익
```

---

### 시나리오 B: 초단타 급등 추격
```
1. KRW-BTC 가격 +1.8% 급등
2. 거래량 2.2배
3. RSI 68 (과매수 직전)
→ ✅ 추격 매수 진입!

예상 흐름:
22:05:10 [INFO] 🔥 급등 감지: KRW-BTC +1.8%, 거래량 2.2x
22:05:10 [TRADE] ⚡ 초단타 매수: 15,000원
22:07:45 [INFO] 💰 수익 +1.5% (155초 보유)
22:07:45 [TRADE] ⚡ 초단타 매도: +225원 수익
```

---

### 시나리오 C: 거래량 폭증 (NEW!)
```
1. KRW-ETH 가격 +1.2% 상승
2. 거래량 2.6배 폭증
3. RSI 52 (중립)
→ ✅ 거래량 기반 진입!

예상 흐름:
22:15:00 [INFO] 💪 거래량 폭증: KRW-ETH +1.2%, 거래량 2.6x
22:15:00 [TRADE] 💰 매수: aggressive_scalping, 20,000원
22:25:30 [INFO] 💰 수익 +2.0%
22:25:30 [TRADE] 💰 매도: +400원 수익
```

---

### 시나리오 D: 공격형 스캘핑
```
1. KRW-XRP RSI 45 (약세)
2. 거래량 1.3배
3. 가격 +0.6% 변동
→ ✅ 공격형 매수 진입!

예상 흐름:
22:30:00 [TRADE] 💰 매수: KRW-XRP, aggressive_scalping
22:45:00 [INFO] 💰 수익 +2.0% 도달
22:45:00 [TRADE] 💰 매도: 익절 성공
```

---

## 📈 예상 거래 빈도

### 시간별 진입 횟수
| 시간대 | 초단타 | 일반 매수 | 합계 |
|--------|--------|----------|------|
| **1시간** | 3~5건 | 5~10건 | 8~15건 |
| **3시간** | 10~15건 | 15~30건 | 25~45건 |
| **하루** | 30~50건 | 50~100건 | 80~150건 |

### 자본금별 예상 수익
| 모드 | 자본금 | 일일 거래 | 승률 60% 기준 | 월 수익 (예상) |
|-----|--------|----------|--------------|--------------|
| 10만원 | 100,000원 | 80~100건 | +3,000~5,000원/일 | +90,000~150,000원 |
| 20만원 | 200,000원 | 100~120건 | +6,000~10,000원/일 | +180,000~300,000원 |
| 30만원 | 300,000원 | 120~150건 | +9,000~15,000원/일 | +270,000~450,000원 |

*실제 수익은 시장 상황에 따라 다를 수 있습니다*

---

## ⚙️ 설정 파일 (.env)

```env
# ===== 거래 모드 =====
TRADING_MODE=paper              # paper: 모의 / live: 실거래

# ===== 자본 및 리스크 =====
INITIAL_CAPITAL=100000          # 초기 자본
MAX_DAILY_LOSS=10000           # 일일 손실 한도 (10%)
MAX_CUMULATIVE_LOSS=20000      # 누적 손실 한도 (20%)
MAX_POSITIONS=5                # 최대 포지션 수
MAX_POSITION_RATIO=0.2         # 포지션당 비율 (20%)

# ===== 동적 코인 선정 =====
ENABLE_DYNAMIC_COIN_SELECTION=true
CAPITAL_MODE=10                # 10, 20, 30 (만원 단위)
COIN_SELECTION_METHOD=volume   # volume, rsi, multi
COIN_SELECTION_INTERVAL=300    # 5분 = 300초

# ===== 청산 모드 =====
EXIT_MODE=aggressive           # aggressive, moderate, conservative
```

---

## 🎯 진입 조건 비교표

| 전략 | 손절 | 익절 | RSI | 거래량 | 가격변동 | 보유시간 |
|-----|------|------|-----|--------|---------|---------|
| **초단타** | 1% | 1.5% | 35-80 | 2배↑ | 1.5%↑ | 1~5분 |
| **공격형** | 3% | 2% | 40-60 | 1.2배↑ | 0.5%↑ | 10~30분 |
| **보수형** | 2% | 1.5% | 35-65 | 1배↑ | - | 10~60분 |
| **평균회귀** | 3% | 2.5% | - | - | MA±3% | 30~120분 |
| **그리드** | 5% | 0.5%×10 | - | - | <3% | 지속 |

---

## 🔍 진입 우선순위

```
1순위: 초단타 (Ultra Scalping)
   → 급등/급락 + 거래량 폭증
   → 3분 쿨다운
   → 최대 2개 포지션

2순위: 공격형 스캘핑 (Aggressive)
   → RSI 40~60 + 거래량 1.2배
   → 단기 수익 목표

3순위: 보수형 스캘핑 (Conservative)
   → RSI 35~65 + 볼린저 밴드
   → 안정적 진입

4순위: 평균 회귀 (Mean Reversion)
   → MA 대비 ±3% 이탈
   → 반전 노림

5순위: 그리드 (Grid Trading)
   → 횡보장 감지
   → 자동 분할 매매
```

---

## 📊 실시간 모니터링

### 스캔 주기
```
⚡ 10초: 급등/급락 감지 (초단타)
🔍 5초: 포지션 빠른 체크
📅 3분: 전체 코인 스캔 (일반 진입)
🔄 5분: 동적 코인 목록 갱신
```

### 로그 출력 예시
```
[21:49:30] [COIN] 🔄 동적 코인 갱신 - 20개
[21:49:40] [INFO] 🔍 급등/급락 스캔 중... (초단타 0/2)
[21:49:43] [INFO] 🔥 급락 감지: KRW-DOGE -2.0%, 거래량 2.5x
[21:49:43] [TRADE] ⚡ 초단타 매수: KRW-DOGE, 10,000원
[21:51:15] [TRADE] ⚡ 초단타 매도: +120원 (+1.2%)
[21:52:00] [TRADE] 💰 매수: KRW-BTC, aggressive_scalping
[21:55:00] [COIN] 🔄 동적 코인 갱신 - 20개
```

---

## 🛠️ 빠른 실행 가이드

### 1단계: 환경 검증
```bash
verify_setup.bat
```

### 2단계: 모드 선택
```bash
run_dynamic.bat
→ [1] 10만원 모드 선택
```

### 3단계: 실행
```bash
run_paper.bat        # 모의투자
run_live.bat         # 실거래
```

---

## ✅ 체크리스트

**진입 전 확인:**
- [ ] .env 파일 설정 완료
- [ ] 동적 코인 선정 활성화
- [ ] 자본금 모드 선택
- [ ] 포지션 수 설정
- [ ] 손절/익절 비율 확인

**실행 후 확인:**
- [ ] 동적 코인 갱신 로그 (5분마다)
- [ ] 초단타 진입 (10초마다 스캔)
- [ ] 일반 매수 진입 (3분마다)
- [ ] 로그 저장 정상
- [ ] 수익률 기록

---

## 📞 문제 해결

| 문제 | 해결 |
|-----|------|
| 진입 안 됨 | verify_setup.bat → 설정 확인 |
| 로그 오류 | fix_logs.bat → 로그 복구 |
| 환경변수 오류 | .env 파일 확인 |
| API 오류 | 인터넷 연결 확인 |

---

## 🔗 참고 문서

- **DYNAMIC_COIN_GUIDE.md** - 동적 선정 상세
- **LOG_ERROR_FIXED.md** - 로그 오류 해결
- **ENV_ERROR_FIXED.md** - 환경변수 오류
- **START_HERE.md** - 빠른 시작

**GitHub:** https://github.com/lee-jungkil/Lj  
**버전:** v5.3 | **날짜:** 2026-02-11
