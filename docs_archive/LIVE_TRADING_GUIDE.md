# 🔐 실거래 준비 완벽 가이드

## 📋 목차
1. [Upbit 계정 준비](#1-upbit-계정-준비)
2. [API 키 발급](#2-api-키-발급)
3. [봇 설정](#3-봇-설정)
4. [보안 체크리스트](#4-보안-체크리스트)
5. [첫 실거래 시작](#5-첫-실거래-시작)
6. [모니터링 및 관리](#6-모니터링-및-관리)

---

## 1. Upbit 계정 준비

### ✅ 필수 사항

#### 1-1. 업비트 회원가입
```
🌐 https://upbit.com/
```

- 이메일 또는 카카오톡 계정으로 가입
- 휴대폰 본인 인증 완료
- **KYC (신원 인증) 완료 필수**
  - 실명 인증
  - 주민등록증 또는 운전면허증 업로드
  - 얼굴 인증

#### 1-2. 보안 설정
- ✅ **2단계 인증 (OTP) 필수 설정**
  - Google Authenticator 또는 업비트 OTP 앱 설치
  - OTP 연동 완료
- ✅ **출금 주소 관리**
  - 출금 주소 등록 (필요 시)
- ✅ **로그인 알림** 활성화

#### 1-3. 입금
```
최소 입금액: 50만원 권장 (초기 자본)
```

**입금 방법:**
1. 업비트 앱/웹 로그인
2. `입출금` → `원화 입금` 선택
3. 가상계좌 확인 (본인 명의 계좌만 가능)
4. 가상계좌로 송금
5. 입금 확인 (1-5분 소요)

⚠️ **주의:**
- 본인 명의 계좌에서만 입금 가능
- 타인 명의 입금 시 반환 조치됨

---

## 2. API 키 발급

### 📌 API 키 발급 절차

#### 2-1. API 관리 페이지 접속
```
🌐 https://upbit.com/mypage/open_api_management
```

또는:
```
업비트 웹사이트 → 로그인 → 마이페이지 → Open API 관리
```

#### 2-2. API 키 생성
1. **`API 키 발급`** 버튼 클릭
2. **OTP 인증** 입력
3. **권한 설정** (매우 중요!)

#### 2-3. 권한 설정 (체크 항목)

```
✅ 필수 권한:
   ☑ 자산 조회
   ☑ 주문 조회
   ☑ 주문하기 (매수/매도)

⚠️ 선택 권한 (주의):
   ☐ 출금하기 (자동 출금 원하면 체크, 권장하지 않음)
   ☐ 입금 주소 조회
```

**권장 설정:**
- ✅ 자산 조회
- ✅ 주문 조회
- ✅ 주문하기
- ❌ 출금하기 (보안상 체크 해제 권장)

#### 2-4. IP 주소 제한 (선택, 고급)
```
특정 IP에서만 API 사용 가능하도록 제한
예: 집 또는 회사 고정 IP
```

⚠️ **주의:**
- IP 제한 시 다른 곳에서 봇 실행 불가
- 유동 IP 사용 시 제한하지 않는 것이 편리함

#### 2-5. API 키 저장

발급 완료 후 표시되는 키를 **반드시 안전하게 저장**:

```
Access Key: 예) abcd1234efgh5678...
Secret Key: 예) ijkl9012mnop3456... (한 번만 표시됨!)
```

⚠️ **중요:**
- Secret Key는 발급 시 단 한 번만 표시됩니다!
- 분실 시 재발급 필요
- 절대 타인에게 공유하지 마세요!

---

## 3. 봇 설정

### 📝 .env 파일 설정

#### 3-1. .env 파일 생성
```bash
cd /your/bot/directory
cp .env.example .env
```

#### 3-2. API 키 입력
`.env` 파일을 텍스트 에디터로 열어서 수정:

```env
# Upbit API Keys (발급받은 키 입력)
UPBIT_ACCESS_KEY=여기에_액세스_키_붙여넣기
UPBIT_SECRET_KEY=여기에_시크릿_키_붙여넣기

# Bot Configuration
INITIAL_CAPITAL=500000          # 초기 자본 (원)
MAX_DAILY_LOSS=50000           # 일일 최대 손실 (원)
MAX_CUMULATIVE_LOSS=100000     # 누적 최대 손실 (원)
MAX_POSITIONS=3                # 최대 동시 포지션
MAX_POSITION_RATIO=0.3         # 단일 포지션 최대 비율 (30%)

# Trading Mode
TRADING_MODE=live              # ⚠️ live로 변경!

# Logging
LOG_LEVEL=INFO
ENABLE_TRADING_LOG=true
ENABLE_ERROR_LOG=true

# Sentiment Analysis
ENABLE_SENTIMENT=true
```

#### 3-3. 설정 커스터마이징 (선택)

`src/config.py` 파일에서 더 세밀한 조정 가능:

```python
# 거래할 코인 목록
WHITELIST_COINS = [
    'KRW-BTC',   # 비트코인
    'KRW-ETH',   # 이더리움
    # 원하는 코인 추가/제거
]

# 전략별 파라미터
STRATEGIES = {
    'aggressive_scalping': {
        'enabled': True,         # 전략 활성화 여부
        'stop_loss': 0.02,       # 손절 비율 조정
        'take_profit': 0.015,    # 익절 비율 조정
    },
    # ... 다른 전략도 조정 가능
}
```

---

## 4. 보안 체크리스트

### 🔐 실거래 전 필수 보안 점검

#### 4-1. API 키 보안
```
✅ .env 파일이 .gitignore에 포함되어 있는지 확인
✅ API 키를 절대 GitHub 등 공개 저장소에 올리지 않기
✅ 출금 권한은 가급적 비활성화
✅ API 키 노출 시 즉시 재발급
```

#### 4-2. 서버/PC 보안
```
✅ 백신 프로그램 최신 상태 유지
✅ 방화벽 활성화
✅ 원격 접속 보안 설정 (필요 시)
✅ 정기적인 시스템 업데이트
```

#### 4-3. 계정 보안
```
✅ 업비트 2단계 인증 (OTP) 활성화
✅ 강력한 비밀번호 사용
✅ 정기적인 비밀번호 변경
✅ 로그인 알림 확인
```

---

## 5. 첫 실거래 시작

### 🚀 단계별 실행 가이드

#### 5-1. 백테스트 먼저 실행 (필수!)
```bash
# 실거래 전 반드시 백테스트로 테스트!
python src/main.py --mode backtest
```

**확인 사항:**
- ✅ 봇이 정상 작동하는가?
- ✅ 로그가 제대로 출력되는가?
- ✅ 에러가 없는가?

#### 5-2. 소액 실거래 테스트
```bash
# .env 파일에서 설정
INITIAL_CAPITAL=50000   # 5만원으로 테스트
MAX_DAILY_LOSS=5000     # 일일 손실 5천원으로 제한
```

#### 5-3. 실거래 시작
```bash
# 방법 1: 실행 스크립트 사용 (권장)
./run.sh
# 모드 선택: 3 (live) 입력

# 방법 2: 직접 실행
python src/main.py --mode live
```

**실행 시 확인 사항:**
```
✅ API 연결 성공 메시지 확인
✅ 잔고 조회 정상 작동
✅ 거래 가능 코인 목록 확인
✅ 로그 파일 생성 확인
```

#### 5-4. 실시간 모니터링
```
실행 후 최소 30분~1시간 동안 모니터링:
- 콘솔 로그 확인
- trading_logs/ 폴더의 로그 파일 확인
- 업비트 앱/웹에서 실제 거래 확인
```

---

## 6. 모니터링 및 관리

### 📊 일일 모니터링

#### 6-1. 로그 확인
```bash
# 오늘의 거래 로그 확인
cat trading_logs/trade_$(date +%Y%m%d).json

# 에러 로그 확인
tail -f trading_logs/error_$(date +%Y%m%d).log

# 성과 리포트 확인
cat trading_logs/performance_$(date +%Y%m).json
```

#### 6-2. 업비트에서 직접 확인
```
업비트 앱/웹 → 거래내역 → 주문내역
- 봇의 매수/매도가 정상적으로 실행되는지 확인
- 예상치 못한 거래가 있는지 확인
```

#### 6-3. 손익 추적
```
매일 또는 매주:
- 총 수익/손실 확인
- 승률 확인
- 전략별 성과 비교
```

---

## 7. 긴급 상황 대응

### 🚨 문제 발생 시 조치

#### 7-1. 봇 중지
```bash
# Ctrl + C 또는
pkill -f "python src/main.py"
```

#### 7-2. 수동 청산
```
업비트 앱/웹에서:
1. 보유 코인 확인
2. 수동으로 전량 매도
3. 원인 파악 후 재시작
```

#### 7-3. API 키 비활성화
```
API 키 노출 의심 시:
1. 업비트 → Open API 관리
2. 해당 API 키 삭제
3. 새로운 API 키 재발급
```

---

## 8. 실거래 체크리스트

### ✅ 실행 전 최종 확인

```
계정 준비
☐ 업비트 KYC 인증 완료
☐ OTP 2단계 인증 설정
☐ 초기 자본 입금 완료 (50만원 이상)

API 설정
☐ API 키 발급 완료
☐ 권한 설정 확인 (자산 조회, 주문 조회, 주문하기)
☐ .env 파일에 API 키 입력 완료

봇 설정
☐ .env 파일 설정 완료
☐ TRADING_MODE=live 설정
☐ 손실 한도 설정 확인
☐ 거래할 코인 목록 확인

테스트
☐ 백테스트 모드 정상 실행 확인
☐ API 연결 테스트 완료
☐ 소액으로 테스트 실행 (선택)

보안
☐ .gitignore에 .env 포함 확인
☐ API 키 보안 저장
☐ 출금 권한 비활성화 (권장)
☐ PC/서버 보안 점검

모니터링 준비
☐ 로그 폴더 확인 (trading_logs/)
☐ 업비트 앱 알림 설정
☐ 모니터링 계획 수립
```

---

## 9. 자주 묻는 질문 (FAQ)

### Q1: API 키가 없어도 테스트할 수 있나요?
```
A: 네! 백테스트 모드는 API 키 없이 실행 가능합니다.
   python src/main.py --mode backtest
```

### Q2: 초기 자본은 얼마가 적당한가요?
```
A: 최소 50만원 권장, 1,000만원까지 확장 가능
   처음엔 소액으로 시작하여 안정성 확인 후 증액
```

### Q3: 24시간 계속 켜놔야 하나요?
```
A: 네, 24시간 자동매매를 위해서는 PC/서버가 계속 실행 중이어야 합니다.
   클라우드 서버 (AWS, GCP 등) 사용 권장
```

### Q4: 봇이 손실이 나면 어떻게 하나요?
```
A: 설정한 손실 한도에 도달하면 자동으로 거래가 중단됩니다.
   - 일일 손실 한도: -5만원 (기본)
   - 누적 손실 한도: -10만원 (기본)
```

### Q5: 수익은 언제 출금하나요?
```
A: 봇이 월간 수익의 50% 출금을 알림으로 안내합니다.
   수동으로 업비트에서 출금해야 합니다.
```

### Q6: 여러 거래소를 동시에 사용할 수 있나요?
```
A: 현재는 업비트만 지원합니다.
   추후 바이낸스, 빗썸 등 추가 가능합니다.
```

---

## 10. 추가 리소스

### 📚 문서
- `README.md` - 전체 프로젝트 문서
- `QUICKSTART.py` - 빠른 시작 가이드
- `QUICKRUN.md` - 실행 가이드

### 🔗 유용한 링크
- 업비트 공식: https://upbit.com/
- 업비트 API 문서: https://docs.upbit.com/
- 업비트 Open API 관리: https://upbit.com/mypage/open_api_management
- 업비트 고객센터: https://upbit.com/service_center

---

## ⚠️ 최종 주의사항

```
1. 암호화폐 거래는 고위험 투자입니다
2. 투자 손실은 본인 책임입니다
3. 반드시 백테스트 후 실거래를 시작하세요
4. 소액으로 충분히 테스트하세요
5. API 키를 절대 공유하지 마세요
6. 정기적으로 로그를 확인하세요
7. 이상 징후 발견 시 즉시 봇을 중지하세요
```

---

**🎉 모든 준비가 완료되었습니다!**

신중하게 시작하시고, 안전한 투자 되세요! 💰
